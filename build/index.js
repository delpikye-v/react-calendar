!function(e,a){"object"==typeof exports&&"undefined"!=typeof module?a(exports,require("react"),require("joinclass")):"function"==typeof define&&define.amd?define(["exports","react","joinclass"],a):a((e="undefined"!=typeof globalThis?globalThis:e||self).ReactCalendar={},e.React,e.joinclass)}(this,(function(e,a,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(a),l=n(t),o=function(e){var a=e.value,t=e.className,n=e.disabled,o=e.display,c=e.isSelected,u=e.neighbor,i=e.setSelected;return r.default.createElement("span",{className:l.default("picker-cell month-year-cell",t,n&&"disabled-over-range-time",c&&"date-is-selected",u&&"date-neighbor-target"),onClick:function(){return!n&&i(a)},onTouchCancel:function(){return!n&&i(a)},"aria-hidden":!0},r.default.createElement("span",{className:"date-cell-label-value"},o||a),r.default.createElement("div",{className:"date-cell-box-bullet"}),r.default.createElement("div",{tabIndex:!n&&c?0:-1,className:"date-cell-box-selection"}))},c=function(e){var a=e.children,t=e.ifCondition,n=e.elseChildren;return t?a:void 0===n?null:n},u=function(e){return null==e},i=function(e,a){void 0===a&&(a=50),e&&(e.classList.add("fade"),setTimeout((function(){return e.classList.remove("fade")}),a))},d=function(e){var a=e.minYear,t=e.maxYear,n=e.notBeforeTime,r=e.notAfterTime,l=new Date,o=l.getFullYear();if(a||(a=o-100),t||(t=o+100),n){var c=n.getFullYear();a=a<c?c:a}else n=new Date(a,0,1);if(r){var u=r.getFullYear();t=t>u?u:t}else r=new Date(t,11,31);return a>t&&(a=t),!e.minimumDayCanLargeThanToday&&a>o&&(a=o,n=l),{minYear:a,maxYear:t,minMonth:n.getMonth(),maxMonth:r.getMonth(),notBeforeTime:n,notAfterTime:r,beforeYearMonth:N([n.getFullYear(),n.getMonth()]),afterYearMonth:N([r.getFullYear(),r.getMonth()]),beforeAll:v(n.getFullYear(),n.getMonth(),n.getDate()),afterAll:v(r.getFullYear(),r.getMonth(),r.getDate())}},s=function(e,a){return e.reduce((function(e,t,n){return(n%a==0?e.push([t]):e[e.length-1].push(t))&&e}),[])},m=function(e,a){return a>11?(e++,a=0):a<0&&(e--,a=11),[e,a]},f=function(e,a,t,n,r){if(!n&&!r)return!1;var l=v(e,a,t);return r>0&&n>0?!(n<=l&&l<=r):r>0&&l>r||n>0&&l<n},h=function(e){return[31,e%4==0&&e%100!=0||e%400==0?29:28,31,30,31,30,31,31,30,31,30,31]},y=function(e,a){var t=m(e,a),n=t[0],r=t[1];return{year:n,month:r,maxDayOfMonth:h(n)[r],otherMonth:!0}},v=function(e,a,t){var n=e+"0".concat(a).slice(-2)+"0".concat(t).slice(-2);return Number(n)},N=function(e){var a=e[0]+"0".concat(e[1]).slice(-2);return Number(a)},g=function(e){var a=Number("".concat(e.toString()[2],"0")),t=e.toString().substring(0,2);return[a=Number(0===a?"".concat(t,"00"):"".concat(t).concat(a)),a+9]},p=["January","February","March","April","May","June","July","August","September","October","November","December"],b=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],k=[{name:"Sunday",shortName:"Su",dateClassName:"date-cell-sunday",keyName:"sun"},{name:"Monday",shortName:"Mo",dateClassName:"date-cell-monday",keyName:"mon"},{name:"Tuesday",shortName:"Tu",dateClassName:"date-cell-tuesday",keyName:"tue"},{name:"Wednesday",shortName:"We",dateClassName:"date-cell-wednesday",keyName:"wed"},{name:"Thursday",shortName:"Th",dateClassName:"date-cell-thursday",keyName:"thu"},{name:"Friday",shortName:"Fr",dateClassName:"date-cell-friday",keyName:"fri"},{name:"Saturday",shortName:"Sa",dateClassName:"date-cell-saturday",keyName:"sat"}],M=k.map((function(e){return e.dateClassName})),C=function(e){var a=e.weekLabels,t=void 0===a?[]:a,n=e.dayOfWeeks,o=void 0===n?[]:n,u=e.readOnly,i=e.neighborMonthClassName,d=e.showToday,s=e.todayClassName,m=e.selectedClassName,f=e.handleChangeDate,h=e.formartDayValue;return r.default.createElement(r.default.Fragment,null,o.map((function(e,a){return r.default.createElement("div",{key:a,className:"date-row date-line",role:"row"},e.map((function(e,a){var n,o=e.fitMonthDay||u;return r.default.createElement("span",{key:a,className:l.default("picker-cell date-cell","date-cell-".concat(v(e.year,e.month+1,e.dayDisplay)),null===(n=t[a])||void 0===n?void 0:n.dateClassName,e.isBookmark&&"date-is-bookmark",e.otherMonth&&"date-neighbor-target",e.otherMonth&&i,e.isToday&&d&&"date-is-today",e.isToday&&s,!o&&e.isSelected&&"date-is-selected",!o&&e.isSelected&&m,o&&"read-only",!o&&e.isOverRange&&"disabled-over-range-time"),onClick:function(a){return!o&&!e.isOverRange&&f(e)},onTouchEnd:function(){return!o&&!e.isOverRange&&f(e)},"aria-hidden":!0},r.default.createElement(c,{ifCondition:!e.fitMonthDay},r.default.createElement("span",{className:"date-cell-label-value"},h?h(e.dayDisplay):e.dayDisplay)),r.default.createElement("div",{className:"date-cell-box-bullet"}),r.default.createElement("div",{tabIndex:!o&&e.isSelected?0:-1,className:"date-cell-box-selection"}))})))})))},E=function(e){for(var a=e.decadeData,t=e.selected,n=e.minYear,l=e.maxYear,c=e.setSelected,u=void 0===c?function(){}:c,i=a[0],d=a[1],m=[],f=i-1;f<=d+1;f++)m.push(f);var h=s(m,3);return r.default.createElement(r.default.Fragment,null,h.map((function(e,a){return r.default.createElement("div",{key:a,className:"date-row",role:"row"},e.map((function(e,a){return r.default.createElement(o,{key:a,className:"year-cell-".concat(e),disabled:n>e||l<e,neighbor:e<i||e>d,isSelected:e===t,value:e,setSelected:u})})))})))},Y=function(e){var a=e.labelMonths,t=void 0===a?[]:a,n=e.selected,c=e.isSameYear,u=e.year,i=e.minYearMonth,d=e.maxYearMonth,f=e.setSelected,h=void 0===f?function(){}:f,y=s(t,3);return r.default.createElement(r.default.Fragment,null,y.map((function(e,a){return r.default.createElement("div",{key:a,className:"date-row",role:"row"},e.map((function(e,t){var s=3*a+t,f=N(m(u,s));return r.default.createElement(o,{key:t,className:l.default("month-year-cell-".concat(f),"month-cell-".concat(b[s])),disabled:i>f||d<f,isSelected:s===n&&c,display:e,value:s,setSelected:h})})))})))},D=function(e){var a=e.weekLabels,t=e.weekClassName,n=e.dayOfWeeks,o=void 0===n?[]:n,c=e.readOnly,u=e.neighborMonthClassName,i=e.showToday,d=e.todayClassName,s=e.selectedClassName,m=e.onClickWeekLabel,f=void 0===m?function(){}:m,h=e.handleChangeDate,y=e.formartDayValue;return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"date-row date-label",role:"row"},a.map((function(e,a){return r.default.createElement("span",{key:a,className:l.default("week-label date-cell",e.dateClassName,t),onClick:function(){return f(e)},onTouchEnd:function(){return f(e)},"aria-hidden":!0},r.default.createElement("span",null,e.shortName),r.default.createElement("div",{className:"week-cell-box-selection"}))}))),r.default.createElement(C,{weekLabels:a,dayOfWeeks:o,readOnly:c,neighborMonthClassName:u,showToday:i,todayClassName:d,selectedClassName:s,formartDayValue:y,handleChangeDate:h}))},T=function(e){var a=e.children,t=e.className,n=e.disabled,o=e.show,c=e.index,u=e.handleNextBack;return o?r.default.createElement("span",{className:l.default("date-picker2-nav-button",t,n&&"button-disabled"),onClick:function(){return!n&&u(c)},onTouchEnd:function(){return!n&&u(c)}},a||r.default.createElement("span",{className:"date-picker2-arrow-inner"})):null},x=function(){return x=Object.assign||function(e){for(var a,t=1,n=arguments.length;t<n;t++)for(var r in a=arguments[t])Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);return e},x.apply(this,arguments)};function w(e,a,t){if(t||2===arguments.length)for(var n,r=0,l=a.length;r<l;r++)!n&&r in a||(n||(n=Array.prototype.slice.call(a,0,r)),n[r]=a[r]);return e.concat(n||Array.prototype.slice.call(a))}"function"==typeof SuppressedError&&SuppressedError;var S,O=function(e){var t=e.currentDate,n=e.minYear,o=e.maxYear,c=e.minMonth,d=e.maxMonth,s=e.valueMonth,m=e.valueYear,f=e.className,h=e.i18nLabelMonth,y=e.minimumDayCanLargeThanToday,v=e.handleChange,N=a.useRef(null),g=a.useRef(null);if(a.useEffect((function(){g.current&&i(g.current)}),[s]),a.useEffect((function(){N.current&&i(N.current)}),[m]),u(s)||u(m))return null;var b=m===o?(h||p).slice(0,d+1):m===n?(h||p).slice(c):h||p,k=function(){var e,a=t.getFullYear();return n>o&&(n=(e=[o,n])[0],o=e[1]),(y&&n<a||a<n)&&(n=a),new Array(o-n+1).fill(0)}();return r.default.createElement("span",{className:l.default("date-picker2-select-month-year date-picker2-title-month-year",f)},r.default.createElement("span",{ref:g,className:"date-picker2-select-month"},r.default.createElement("select",{className:"date-picker2-select-month-control",value:s,onChange:function(e){i(e.target,100),v(m,Number(e.target.value))},"aria-hidden":!0},b.map((function(e,a){return r.default.createElement("option",{key:a,value:a},e)})))),r.default.createElement("span",{className:"date-picker2-select-split"}),r.default.createElement("span",{ref:N,className:"date-picker2-select-year"},r.default.createElement("select",{className:"date-picker2-select-year-control",value:m,onChange:function(e){i(e.target,100),v(Number(e.target.value),s)},"aria-hidden":!0},k.map((function(e,a){var t=o-a;return r.default.createElement("option",{key:t,value:t},t)})))))},B=((S={8:1,7:0})[-1]=6,S),F={monday:{numberWeek:1,plus:-1},sunday:{numberWeek:0,plus:0},saturday:{numberWeek:-1,plus:1},friday:{numberWeek:-2,plus:2}},A=function(e,a,t){return a===t.getDate()&&e.month===t.getMonth()&&e.year===t.getFullYear()},L=function(e,a,t,n){return void 0===n&&(n=[]),n.findIndex((function(n){return n.getFullYear()===e&&n.getMonth()===a&&n.getDate()===t}))>-1};function W(e,a,t,n,r,l,o,c,u,i,d){var s=new Date,m=s.getDate(),N=s.getMonth(),g=s.getFullYear(),p=new Date(e,a,1).getDay(),b=h(e)[a],k=y(e,a-1),M=y(e,a+1),C=n?v(n.getFullYear(),n.getMonth(),n.getDate()):0,E=r?v(r.getFullYear(),r.getMonth(),r.getDate()):0;"sunday"!==l&&F[l]&&(p+=F[l].plus,void 0!==B[p]&&(p=B[p]));var Y=[],D=[],T=1;if(0!==p||0===p&&28===b)for(var S=k.maxDayOfMonth-p+1;S<=k.maxDayOfMonth;S++)D.push(x(x({},k),{dayDisplay:S,isSelected:A(k,S,t),isOverRange:f(k.year,k.month,S,C,E),fitMonthDay:o,isBookmark:L(k.year,k.month,S,i)}));var O=D.length;T=D.length,7===D.length&&(Y.push(w([],D,!0)),D=[],T=1);for(S=1;S<=b;S++)D.push({year:e,month:a,maxDayOfMonth:b,dayDisplay:S,isToday:m===S&&N===a&&g===e,isSelected:A({year:e,month:a},S,t)&&d,isOverRange:f(e,a,S,C,E),isBookmark:L(e,a,S,i)}),++T>=7&&(Y.push(w([],D,!0)),D=[],T=0);var W=42-O-b;for(S=1;S<=W;S++)D.push(x(x({},M),{dayDisplay:S,isSelected:A(M,S,t),isOverRange:f(M.year,M.month,S,C,E),fitMonthDay:o,isBookmark:L(M.year,M.month,S,i)})),++T>=7&&(Y.push(w([],D,!0)),D=[],T=0);D.length>0&&Y.push(w([],D,!0)),c(Y),u([e,a])}e.CalendarCell=o,e.CalendarDayOfWeeks=C,e.CalendarDecade=E,e.CalendarMonth=Y,e.CalendarNav=T,e.CalendarWeek=D,e.animateLabelChange=i,e.datesClassName=M,e.default=function(e){var t=e.className,n=e.todayClassName,o=e.selectedClassName,u=e.neighborMonthClassName,s=e.labelMonthYearClassName,f=e.weekClassName,y=e.width,b=void 0===y?"350px":y,C=e.height,S=void 0===C?"auto":C,B=e.readOnly,A=void 0!==B&&B,L=e.show,R=void 0===L||L,j=e.showAnchor,V=void 0!==j&&j,I=e.labelNext,J=e.labelBack,P=e.weekStart,q=void 0===P?"sunday":P,_=e.fitMonthDay,z=void 0!==_&&_,G=e.notBeforeTime,H=e.notAfterTime,K=e.value,Q=e.bookmarkDates,U=void 0===Q?[]:Q,X=e.showToday,Z=void 0===X||X,$=e.i18nLabelWeek,ee=e.i18nLabelMonth,ae=e.minYear,te=e.maxYear,ne=e.minimumDayCanLargeThanToday,re=void 0!==ne&&ne,le=e.showMonthYearSelection,oe=void 0!==le&&le,ce=e.showNextBack,ue=void 0===ce||ce,ie=e.rightNextBack,de=e.onSelectedValue,se=void 0===de?function(){}:de,me=e.onChangeView,fe=void 0===me?function(){}:me,he=e.onClickWeekLabel,ye=void 0===he?function(){}:he,ve=e.formatTittleYearMonth,Ne=e.formartDayValue,ge=a.useRef(null),pe=a.useRef(!0),be=a.useRef({}),ke=a.useState(K||new Date),Me=ke[0],Ce=ke[1],Ee=a.useState([]),Ye=Ee[0],De=Ee[1],Te=a.useState([]),xe=Te[0],we=Te[1],Se=a.useState([]),Oe=Se[0],Be=Se[1],Fe=a.useState("date"),Ae=Fe[0],Le=Fe[1],We=a.useState([]),Re=We[0],je=We[1],Ve="date"===Ae,Ie="month"===Ae,Je="year"===Ae;a.useEffect((function(){be.current=d({maxYear:te,minYear:ae,notAfterTime:H,notBeforeTime:G,minimumDayCanLargeThanToday:re});var e=K||new Date;K?re||e<be.current.notBeforeTime&&(pe.current=!1,e=be.current.notBeforeTime):re&&(pe.current=!1,e=new Date(be.current.minYear,be.current.minMonth,1)),Ce(e),W(e.getFullYear(),e.getMonth(),e,be.current.notBeforeTime,be.current.notAfterTime,q,z,we,je,U,pe.current)}),[K,b,S,Z,G,H,ee,A,z,re,oe,q]),a.useEffect((function(){var e,a=(Array.isArray($)&&7===$.length?$:k).map((function(e,a){return x(x({},e),{dateClassName:M[a]})})),t=null===(e=F[q])||void 0===e?void 0:e.numberWeek,n=void 0===t?0:t;De(w(w([],a.slice(n),!0),a.slice(0,n),!0))}),[q,$]),a.useEffect((function(){(!R||!oe)&&Le("date")}),[R,oe]);var Pe,qe,_e=function(){var e="date";Ie&&(Be(g(Re[0])),e="year"),Ve&&(e="month"),Le(e),fe(e),i(ge.current)},ze=function(e){i(ge.current);var a=Re[0],t=Re[1];if(Je){var n=a+10*e;return Be(g(n)),void je([n,t])}var r=Ve||oe?m(a,t+e):m(a+e,t);W(r[0],r[1],Me,be.current.notBeforeTime,be.current.notAfterTime,q,z,we,je,U,pe.current)},Ge=function(){var e=Re[0],a=Re[1];if(Je)return{disabledBack:Oe[0]<be.current.minYear,disabledNext:Oe[1]>be.current.maxYear};if(Ve){var t=h(e)[a];return{disabledBack:be.current.beforeAll>=v(e,a,1),disabledNext:be.current.afterAll<=v(e,a,t)}}var n=m(e,0),r=m(e,11);return{disabledBack:be.current.beforeYearMonth>=N(n),disabledNext:be.current.afterYearMonth<=N(r)}}(),He=Ge.disabledBack,Ke=Ge.disabledNext;return R?r.default.createElement("div",{style:{width:b,height:z?"auto":S},className:l.default("date-picker2",t)},r.default.createElement("div",{className:"date-picker2-header"},!ie&&r.default.createElement(T,{show:ue,className:"button-left",disabled:He,index:-1,handleNextBack:ze},J),V&&r.default.createElement("span",{className:"date-picker2-anchor left-label"}),oe?r.default.createElement(O,{className:s,currentDate:Me,maxYear:be.current.maxYear,minYear:be.current.minYear,minMonth:be.current.minMonth,maxMonth:be.current.maxMonth,valueYear:Re[0],valueMonth:Re[1],i18nLabelMonth:ee,minimumDayCanLargeThanToday:re,handleChange:function(e,a){W(e,a,Me,be.current.notBeforeTime,be.current.notAfterTime,q,z,we,je,U,pe.current)}}):r.default.createElement("span",{ref:ge,className:l.default("date-picker2-title-month-year",Ve&&"date-picker2-title-month",Ie&&"date-picker2-title-year",Je&&"date-picker2-title-decade",s),"aria-hidden":!0},r.default.createElement("span",{className:"date-picker2-label-month-year",onClick:_e,onTouchEnd:_e,"aria-hidden":!0},(Pe=Re[0],qe=Re[1],ve?Ie?ve(Pe,-1):Je?ve(-1,-1,Oe):ve(Pe,qe+1):Ie?Pe||"":Je?"".concat(Oe[0]," - ").concat(Oe[1]):"".concat((ee||p)[qe]||""," ").concat(Pe||"").trim()))),V&&r.default.createElement("span",{className:"date-picker2-anchor right-label"}),ie&&r.default.createElement(T,{show:ue,className:"button-left",disabled:He,index:-1,handleNextBack:ze},J),r.default.createElement(T,{show:ue,className:"button-right",disabled:Ke,index:1,handleNextBack:ze},I)),r.default.createElement("div",{className:"date-picker2-content"},r.default.createElement("div",{className:"date-picker2-calendar",role:"grid"},r.default.createElement(c,{ifCondition:Ve},r.default.createElement(D,{weekLabels:Ye,weekClassName:f,dayOfWeeks:xe,readOnly:A,showToday:Z,todayClassName:n,selectedClassName:o,neighborMonthClassName:u,onClickWeekLabel:ye,handleChangeDate:function(e){if(!A){pe.current=!0;var a=new Date(e.year,e.month,e.dayDisplay,0,0,0);Ce(a),se(a),W(e.year,e.month,a,be.current.notBeforeTime,be.current.notAfterTime,q,z,we,je,U,pe.current)}},formartDayValue:Ne})),r.default.createElement(c,{ifCondition:Ie},r.default.createElement(Y,{year:Re[0],labelMonths:ee||p,minYearMonth:be.current.beforeYearMonth,maxYearMonth:be.current.afterYearMonth,selected:Me.getMonth(),isSameYear:Me.getFullYear()===Re[0],setSelected:function(e){var a=m(Re[0],e);W(a[0],a[1],Me,be.current.notBeforeTime,be.current.notAfterTime,q,z,we,je,U,pe.current),Le("date"),fe("date")}})),r.default.createElement(c,{ifCondition:Je},r.default.createElement(E,{decadeData:Oe,selected:Me.getFullYear(),minYear:be.current.minYear,maxYear:be.current.maxYear,setSelected:function(e){je([e,Re[1]]),Le("month"),fe("month")}}))))):r.default.createElement(r.default.Fragment,null)},e.fmtYearMonthDateToNum=v,e.fmtYearMonthToNum=N,e.getDecadesFromYear=g,e.getMaxDayOfMonth=h,e.getMiMaxYear=d,e.getPreNextOfMonth=y,e.getRealYearMonth=m,e.isNil=u,e.isOverCompareDate=f,e.keyMonths=b,e.labelMonths=p,e.labelWeekDays=k,e.toMatrix=s,Object.defineProperty(e,"__esModule",{value:!0})}));
