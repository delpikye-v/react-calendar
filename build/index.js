!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("joinclass")):"function"==typeof define&&define.amd?define(["exports","react","joinclass"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactCalendar={},e.React,e.joinclass)}(this,(function(e,t,a){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(t),l=n(a);function o(e){var t=e.value,a=e.display,n=e.isSelected,o=e.neighbor,u=e.setSelected;return r.default.createElement("span",{className:l.default("picker-cell month-year-cell",n&&"date-is-today",o&&"date-neighbor-target"),onClick:function(){return u(t)},onTouchCancel:function(){return u(t)}},a||t)}var u=function(e,t){return e.reduce((function(e,a,n){return(n%t==0?e.push([a]):e[e.length-1].push(a))&&e}),[])},c=function(e){var t=e.labelMonths,a=void 0===t?[]:t,n=e.selected,l=e.isSameYear,c=e.setSelected,s=void 0===c?function(){}:c,d=u(a,3);return r.default.createElement(r.default.Fragment,null,d.map((function(e,t){return r.default.createElement("div",{key:t,className:"date-row",role:"row"},e.map((function(e,a){var u=3*t+a;return r.default.createElement(o,{key:a,isSelected:u===n&&l,display:e,value:u,setSelected:s})})))})))},s=function(e){for(var t=e.decadeData,a=e.selected,n=e.setSelected,l=void 0===n?function(){}:n,c=t[0],s=t[1],d=[],i=c-1;i<=s+1;i++)d.push(i);var f=u(d,3);return r.default.createElement(r.default.Fragment,null,f.map((function(e,t){return r.default.createElement("div",{key:t,className:"date-row",role:"row"},e.map((function(e,t){return r.default.createElement(o,{key:t,neighbor:e<c||e>s,isSelected:e===a,value:e,setSelected:l})})))})))},d=function(e){var t=e.dayOfWeeks,a=void 0===t?[]:t,n=e.readOnly,o=e.neighborMonthClassName,u=e.showToday,c=e.todayClassName,s=e.selectedClassName,d=e.handleChangeDate,i=e.formartDayValue;return r.default.createElement(r.default.Fragment,null,a.map((function(e,t){return r.default.createElement("div",{key:t,className:"date-row",role:"row"},e.map((function(e,t){var a=e.fitMonthDay||n;return r.default.createElement("span",{key:t,className:l.default("picker-cell date-cell",e.otherMonth&&"date-neighbor-target",e.otherMonth&&o,e.isToday&&u&&"date-is-today",e.isToday&&c,!a&&e.isSelected&&"date-is-selected",!a&&e.isSelected&&s,a&&"read-only",!a&&e.isOverRange&&"disabled-over-range-time"),onClick:function(){return!a&&!e.isOverRange&&d(e)},onTouchEnd:function(){return!a&&!e.isOverRange&&d(e)}},e.fitMonthDay?r.default.createElement(r.default.Fragment,null):i?i(e.dayDisplay):e.dayDisplay)})))})))},i=function(e){var t=e.weekLabels,a=e.weekClassName,n=e.dayOfWeeks,o=void 0===n?[]:n,u=e.readOnly,c=e.neighborMonthClassName,s=e.showToday,i=e.todayClassName,f=e.selectedClassName,m=e.onClickWeekLabel,h=void 0===m?function(){}:m,y=e.handleChangeDate,v=e.formartDayValue;return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"date-row",role:"row"},t.map((function(e,t){return r.default.createElement("span",{key:t,className:l.default("week-label date-cell",a),"aria-readonly":"true",onClick:function(){return h(e)},onTouchEnd:function(){return h(e)}},e.shortName)}))),r.default.createElement(d,{dayOfWeeks:o,readOnly:u,neighborMonthClassName:c,showToday:s,todayClassName:i,selectedClassName:f,formartDayValue:v,handleChangeDate:y}))};function f(e,t){return t>11?(e++,t=0):t<0&&(e--,t=11),[e,t]}var m=function(e,t,a,n,r){if(!n&&!r)return!1;var l=v(e,t,a);return r>0&&n>0?!(n<=l&&l<=r):r>0&&l>r||n>0&&l<n};function h(e){return[31,e%4==0&&e%100!=0||e%400==0?29:28,31,30,31,30,31,31,30,31,30,31]}function y(e,t){var a=f(e,t),n=a[0],r=a[1];return{year:n,month:r,maxDayOfMonth:h(n)[r],otherMonth:!0}}function v(e,t,a){var n=e+"0".concat(t).slice(-2)+"0".concat(a).slice(-2);return Number(n)}function g(e){var t=Number("".concat(e.toString()[2],"0")),a=e.toString().substring(0,2);return[t=Number(0===t?"".concat(a,"00"):"".concat(a).concat(t)),t+9]}var p=["January","February","March","April","May","June","July","August","September","October","November","December"],N=[{name:"Sunday",shortName:"Sun"},{name:"Monday",shortName:"Mon"},{name:"Tuesday",shortName:"Tue"},{name:"Wednesday",shortName:"Wed"},{name:"Thursday",shortName:"Thu"},{name:"Friday",shortName:"Fri"},{name:"Saturday",shortName:"Sat"}],b=function(){return b=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},b.apply(this,arguments)};function k(e,t,a){if(a||2===arguments.length)for(var n,r=0,l=t.length;r<l;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;e.DayOfWeeks=d,e.DecadeView=s,e.MonthView=c,e.default=function(e){var a=e.className,n=e.todayClassName,o=e.selectedClassName,u=e.neighborMonthClassName,d=e.labelMonthYearClassName,D=e.weekClassName,E=e.width,M=void 0===E?"300px":E,C=e.height,w=void 0===C?"300px":C,S=e.readOnly,O=void 0!==S&&S,T=e.show,F=void 0===T||T,Y=e.showAnchor,x=void 0!==Y&&Y,W=e.labelNext,R=e.labelBack,L=e.weekStart,V=void 0===L?"sunday":L,j=e.fitMonthDay,A=e.notBeforeTime,J=e.notAfterTime,P=e.value,q=e.showToday,B=void 0===q||q,_=e.i18nLabelWeek,z=e.i18nLabelMonth,G=e.onSelectedValue,H=void 0===G?function(){}:G,I=e.onChangeView,K=void 0===I?function(){}:I,Q=e.onClickWeekLabel,U=void 0===Q?function(){}:Q,X=e.formatTittleYearMonth,Z=e.formartDayValue,$=t.useState(P||new Date),ee=$[0],te=$[1],ae=t.useRef(null),ne=t.useState([]),re=ne[0],le=ne[1],oe=t.useState([]),ue=oe[0],ce=oe[1],se=t.useState([]),de=se[0],ie=se[1],fe=t.useState("date"),me=fe[0],he=fe[1],ye=t.useState([]),ve=ye[0],ge=ye[1];t.useEffect((function(){var e=P||new Date;te(P||new Date),be(e.getFullYear(),e.getMonth(),e)}),[P,M,w,B,A,J,z,O,j]),t.useEffect((function(){var e=Array.isArray(_)&&7===_.length?_:N;le("monday"!==V?k([],e,!0):k(k([],e.slice(1),!0),[e[0]],!1))}),[V,_]),t.useEffect((function(){!F&&he("date")}),[F]);var pe,Ne,be=function(e,t,a){var n=new Date,r=n.getDate(),l=n.getMonth(),o=n.getFullYear(),u=new Date(e,t,1).getDay(),c=h(e)[t],s=y(e,t-1),d=y(e,t+1),i=function(e,t){return t===a.getDate()&&e.month===a.getMonth()&&e.year===a.getFullYear()},f=A?v(A.getFullYear(),A.getMonth(),A.getDate()):0,g=J?v(J.getFullYear(),J.getMonth(),J.getDate()):0;"monday"===V&&(0===u?u=6:u-=1);var p=[],N=[],D=1;if(0!==u||0===u&&28===c)for(var E=s.maxDayOfMonth-u+1;E<=s.maxDayOfMonth;E++)N.push(b(b({},s),{dayDisplay:E,isSelected:i(s,E),isOverRange:m(s.year,s.month,E,f,g),fitMonthDay:j}));var M=N.length;D=N.length,7===N.length&&(p.push(k([],N,!0)),N=[],D=1);for(E=1;E<=c;E++)N.push({year:e,month:t,maxDayOfMonth:c,dayDisplay:E,isToday:r===E&&l===t&&o===e,isSelected:i({year:e,month:t},E),isOverRange:m(e,t,E,f,g)}),++D>=7&&(p.push(k([],N,!0)),N=[],D=0);var C=42-M-c;for(E=1;E<=C;E++)N.push(b(b({},d),{dayDisplay:E,isSelected:i(d,E),isOverRange:m(d.year,d.month,E,f,g),fitMonthDay:j})),++D>=7&&(p.push(k([],N,!0)),N=[],D=0);N.length>0&&p.push(k([],N,!0)),ce(p),ge([e,t])},ke=function(){ae.current.classList.add("fade"),setTimeout((function(){return ae.current.classList.remove("fade")}),50)},De=function(){return"month"===me?(ie(g(ve[0])),he("year"),ke(),void K(me)):"date"===me?(he("month"),ke(),void K(me)):void 0},Ee=function(e){ke();var t=ve[0],a=ve[1];if("date"!==me){if("year"===me){var n=t+10*e;return ie(g(n)),void ge([n,a])}var r=f(t+e,a),l=r[0],o=r[1];be(l,o,ee)}else{var u=f(t,a+e),c=u[0],s=u[1];be(c,s,ee)}};return F?r.default.createElement("div",{style:{width:M,height:j?"auto":w},className:l.default("date-picker2",a)},r.default.createElement("div",{className:"date-picker2-header"},r.default.createElement("span",{className:"date-picker2-nav-button button-left",onClick:function(){return Ee(-1)},onTouchEnd:function(){return Ee(-1)}},R?r.default.createElement(r.default.Fragment,null,R):r.default.createElement(r.default.Fragment,null," 〈")),x&&r.default.createElement("span",{className:"date-picker2-anchor left-label"}),r.default.createElement("span",{ref:ae,className:l.default("date-picker2-title-month-year",d),onClick:De,onTouchEnd:De},(pe=ve[0],Ne=ve[1],X?"month"===me?X(pe,-1):"year"===me?X(-1,-1,de):X(pe,Ne+1):"month"===me?pe||"":"year"===me?"".concat(de[0]," - ").concat(de[1]):"".concat((z||p)[Ne]||""," ").concat(pe||"").trim())),x&&r.default.createElement("span",{className:"date-picker2-anchor right-label"}),r.default.createElement("span",{className:"date-picker2-nav-button button-right",onClick:function(){return Ee(1)},onTouchEnd:function(){return Ee(1)}},W?r.default.createElement(r.default.Fragment,null,W):r.default.createElement(r.default.Fragment,null,"〉"))),r.default.createElement("div",{className:"date-picker2-calendar",role:"grid"},"date"===me?r.default.createElement(i,{weekLabels:re,weekClassName:D,onClickWeekLabel:U,dayOfWeeks:ue,readOnly:O,showToday:B,todayClassName:n,selectedClassName:o,neighborMonthClassName:u,handleChangeDate:function(e){if(!O){var t=new Date(e.year,e.month,e.dayDisplay,0,0,0);te(t),H(t),be(e.year,e.month,t)}},formartDayValue:Z}):"month"===me?r.default.createElement(c,{labelMonths:z||p,selected:ee.getMonth(),isSameYear:ee.getFullYear()===ve[0],setSelected:function(e){var t=f(ve[0],e),a=t[0],n=t[1];be(a,n,ee),he("date"),K("date")}}):r.default.createElement(s,{decadeData:de,selected:ee.getFullYear(),setSelected:function(e){ge([e,ve[1]]),he("month"),K("month")}}))):r.default.createElement(r.default.Fragment,null)},e.fmtYearToNum=v,e.getDecadesFromYear=g,e.getMaxDayOfMonth=h,e.getPreNextOfMonth=y,e.getRealYearMonth=f,e.isOverCompareDate=m,e.labelMonths=p,e.labelWeekDays=N,Object.defineProperty(e,"__esModule",{value:!0})}));
