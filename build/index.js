!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("joinclass")):"function"==typeof define&&define.amd?define(["exports","react","joinclass"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactCalendar={},e.React,e.joinclass)}(this,(function(e,t,a){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(t),l=n(a),o=function(){return o=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)};function u(e,t,a){if(a||2===arguments.length)for(var n,r=0,l=t.length;r<l;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}var c=function(e,t){return e.reduce((function(e,a,n){return(n%t==0?e.push([a]):e[e.length-1].push(a))&&e}),[])};function i(e){var t=e.value,a=e.display,n=e.isSelected,o=e.neighbor,u=e.setSelected;return r.default.createElement("span",{className:l.default("picker-cell month-year-cell",n&&"date-is-today",o&&"date-neighbor-target"),onClick:function(){return u(t)},onTouchCancel:function(){return u(t)}},a||t)}var d=function(e){var t=e.labelMonths,a=void 0===t?[]:t,n=e.selected,l=e.isSameYear,o=e.setSelected,u=void 0===o?function(){}:o,d=c(a,3);return r.default.createElement(r.default.Fragment,null,d.map((function(e,t){return r.default.createElement("div",{key:t,className:"date-row",role:"row"},e.map((function(e,a){var o=3*t+a;return r.default.createElement(i,{key:a,isSelected:o===n&&l,display:e,value:o,setSelected:u})})))})))},s=function(e){for(var t=e.decadeData,a=e.selected,n=e.setSelected,l=void 0===n?function(){}:n,o=t[0],u=t[1],d=[],s=o-1;s<=u+1;s++)d.push(s);var f=c(d,3);return r.default.createElement(r.default.Fragment,null,f.map((function(e,t){return r.default.createElement("div",{key:t,className:"date-row",role:"row"},e.map((function(e,t){return r.default.createElement(i,{key:t,neighbor:e<o||e>u,isSelected:e===a,value:e,setSelected:l})})))})))};function f(e,t){return t>11?(e++,t=0):t<0&&(e--,t=11),[e,t]}function m(e){return[31,e%4==0&&e%100!=0||e%400==0?29:28,31,30,31,30,31,31,30,31,30,31]}function h(e,t){var a=f(e,t),n=a[0],r=a[1];return{year:n,month:r,maxDayOfMonth:m(n)[r],otherMonth:!0}}function y(e,t,a){var n=e+"0".concat(t).slice(-2)+"0".concat(a).slice(-2);return Number(n)}function v(e){var t=Number("".concat(e.toString()[2],"0")),a=e.toString().substring(0,2);return[t=Number(0===t?"".concat(a,"00"):"".concat(a).concat(t)),t+9]}var p=["January","February","March","April","May","June","July","August","September","October","November","December"],g=[{name:"Sunday",shortName:"Sun"},{name:"Monday",shortName:"Mon"},{name:"Tuesday",shortName:"Tue"},{name:"Wednesday",shortName:"Wed"},{name:"Thursday",shortName:"Thu"},{name:"Friday",shortName:"Fri"},{name:"Saturday",shortName:"Sat"}],b=function(e){var a=e.className,n=e.todayClassName,c=e.selectedClassName,i=e.neighborMonthClassName,b=e.labelMonthYearClassName,E=e.weekClassName,N=e.width,S=void 0===N?"300px":N,k=e.height,D=void 0===k?"300px":k,M=e.readOnly,w=void 0!==M&&M,T=e.show,F=void 0===T||T,O=e.showAnchor,C=void 0!==O&&O,Y=e.labelNext,x=e.labelBack,R=e.weekStart,j=void 0===R?"sunday":R,A=e.fitMonthDay,L=e.notBeforeTime,W=e.notAfterTime,J=e.value,P=e.showToday,V=void 0===P||P,q=e.i18nLabelWeek,B=e.i18nLabelMonth,_=e.onSelectedValue,z=void 0===_?function(){}:_,G=e.onChangeView,H=void 0===G?function(){}:G,I=e.onClickWeekLabel,K=void 0===I?function(){}:I,Q=e.formatTittleYearMonth,U=e.formartDayValue,X=t.useState(J||new Date),Z=X[0],$=X[1],ee=t.useRef(null),te=t.useState([]),ae=te[0],ne=te[1],re=t.useState([]),le=re[0],oe=re[1],ue=t.useState([]),ce=ue[0],ie=ue[1],de=t.useState("date"),se=de[0],fe=de[1],me=t.useState([]),he=me[0],ye=me[1],ve=Array.isArray(q)&&7===q.length;t.useEffect((function(){var e=J||new Date;$(J||new Date),Ee(e.getFullYear(),e.getMonth(),e)}),[J,S,D,V,L,W,B,w,A]),t.useEffect((function(){var e=ve?q:g;ne("monday"!==j?u([],e,!0):u(u([],e.slice(1),!0),[e[0]],!1))}),[j,q]),t.useEffect((function(){!F&&fe("date")}),[F]);var pe,ge,be=function(e,t,a,n,r){if(!n&&!r)return!1;var l=y(e,t,a);return r>0&&n>0?!(n<=l&&l<=r):r>0&&l>r||n>0&&l<n},Ee=function(e,t,a){var n=new Date,r=n.getDate(),l=n.getMonth(),c=n.getFullYear(),i=new Date(e,t,1).getDay(),d=m(e)[t],s=h(e,t-1),f=h(e,t+1),v=function(e,t){return t===a.getDate()&&e.month===a.getMonth()&&e.year===a.getFullYear()},p=L?y(L.getFullYear(),L.getMonth(),L.getDate()):0,g=W?y(W.getFullYear(),W.getMonth(),W.getDate()):0;"monday"===j&&(0===i?i=6:i-=1);var b=[],E=[],N=1;if(0!==i||0===i&&28===d)for(var S=s.maxDayOfMonth-i+1;S<=s.maxDayOfMonth;S++)E.push(o(o({},s),{dayDisplay:S,isSelected:v(s,S),isOverRange:be(s.year,s.month,S,p,g),fitMonthDay:A}));var k=E.length;N=E.length,7===E.length&&(b.push(u([],E,!0)),E=[],N=1);for(S=1;S<=d;S++)E.push({year:e,month:t,maxDayOfMonth:d,dayDisplay:S,isToday:r===S&&l===t&&c===e,isSelected:v({year:e,month:t},S),isOverRange:be(e,t,S,p,g)}),++N>=7&&(b.push(u([],E,!0)),E=[],N=0);var D=42-k-d;for(S=1;S<=D;S++)E.push(o(o({},f),{dayDisplay:S,isSelected:v(f,S),isOverRange:be(f.year,f.month,S,p,g),fitMonthDay:A})),++N>=7&&(b.push(u([],E,!0)),E=[],N=0);E.length>0&&b.push(u([],E,!0)),oe(b),ye([e,t])},Ne=function(){ee.current.classList.add("fade"),setTimeout((function(){return ee.current.classList.remove("fade")}),50)},Se=function(e){if(!w){var t=new Date(e.year,e.month,e.dayDisplay,0,0,0);$(t),z(t),Ee(e.year,e.month,t)}},ke=function(){return"month"===se?(ie(v(he[0])),fe("year"),Ne(),void H(se)):"date"===se?(fe("month"),Ne(),void H(se)):void 0},De=function(e){Ne();var t=he[0],a=he[1];if("date"!==se){if("year"===se){var n=t+10*e;return ie(v(n)),void ye([n,a])}var r=f(t+e,a),l=r[0],o=r[1];Ee(l,o,Z)}else{var u=f(t,a+e),c=u[0],i=u[1];Ee(c,i,Z)}};return F?r.default.createElement("div",{style:{width:S,height:A?"auto":D},className:l.default("date-picker2",a)},r.default.createElement("div",{className:"date-picker2-header"},r.default.createElement("span",{className:"date-picker2-nav-button button-left",onClick:function(){return De(-1)},onTouchEnd:function(){return De(-1)}},x?r.default.createElement(r.default.Fragment,null,x):r.default.createElement(r.default.Fragment,null," 〈")),C&&r.default.createElement("span",{className:"date-picker2-anchor left-label"}),r.default.createElement("span",{ref:ee,className:l.default("date-picker2-title-month-year",b),onClick:ke,onTouchEnd:ke},(pe=he[0],ge=he[1],Q?"month"===se?Q(pe,-1):"year"===se?Q(-1,-1,ce):Q(pe,ge+1):"month"===se?pe||"":"year"===se?"".concat(ce[0]," - ").concat(ce[1]):"".concat((B||p)[ge]||""," ").concat(pe||"").trim())),C&&r.default.createElement("span",{className:"date-picker2-anchor right-label"}),r.default.createElement("span",{className:"date-picker2-nav-button button-right",onClick:function(){return De(1)},onTouchEnd:function(){return De(1)}},Y?r.default.createElement(r.default.Fragment,null,Y):r.default.createElement(r.default.Fragment,null,"〉"))),r.default.createElement("div",{className:"date-picker2-calendar",role:"grid"},"date"===se?r.default.createElement((function(){return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"date-row",role:"row"},ae.map((function(e,t){return r.default.createElement("span",{key:t,className:l.default("week-label date-cell",E),"aria-readonly":"true",onClick:function(){return K(e)},onTouchEnd:function(){return K(e)}},e.shortName)}))),le.map((function(e,t){return r.default.createElement("div",{key:t,className:"date-row",role:"row"},e.map((function(e,t){var a=e.fitMonthDay||w;return r.default.createElement("span",{key:t,className:l.default("picker-cell date-cell",e.otherMonth&&"date-neighbor-target",e.otherMonth&&i,e.isToday&&V&&"date-is-today",e.isToday&&n,!a&&e.isSelected&&"date-is-selected",!a&&e.isSelected&&c,a&&"read-only",!a&&e.isOverRange&&"disabled-over-range-time"),onClick:function(){return!a&&!e.isOverRange&&Se(e)},onTouchEnd:function(){return!a&&!e.isOverRange&&Se(e)}},e.fitMonthDay?r.default.createElement(r.default.Fragment,null):U?U(e.dayDisplay):e.dayDisplay)})))})))}),null):"month"===se?r.default.createElement(d,{labelMonths:B||p,selected:Z.getMonth(),isSameYear:Z.getFullYear()===he[0],setSelected:function(e){var t=f(he[0],e),a=t[0],n=t[1];Ee(a,n,Z),fe("date"),H("date")}}):r.default.createElement(s,{decadeData:ce,selected:Z.getFullYear(),setSelected:function(e){ye([e,he[1]]),fe("month"),H("month")}}))):r.default.createElement(r.default.Fragment,null)};e.DateTimePicker=b,e.default=b,Object.defineProperty(e,"__esModule",{value:!0})}));
