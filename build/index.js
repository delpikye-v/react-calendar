!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("joinclass")):"function"==typeof define&&define.amd?define(["exports","react","joinclass"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactCalendar={},e.React,e.joinclass)}(this,(function(e,t,a){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(t),l=n(a),o=function(){return o=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)};function c(e,t,a){if(a||2===arguments.length)for(var n,r=0,l=t.length;r<l;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}function u(e){var t=e.value,a=e.display,n=e.isSelected,o=e.neighbor,c=e.setSelected;return r.default.createElement("div",{role:"row",className:l.default("picker-cell month-year-cell",n&&"date-is-today",o&&"date-neighbor-target"),onClick:function(){return c(t)},onTouchCancel:function(){return c(t)}},a||t)}var i=function(e){var t=e.labelMonths,a=void 0===t?[]:t,n=e.selected,l=e.isSameYear,o=e.setSelected,c=void 0===o?function(){}:o;return r.default.createElement("div",{className:"date-picker2-month-year"},a.map((function(e,t){return r.default.createElement(u,{key:t,isSelected:t===n&&l,display:e,value:t,setSelected:c})})))},d=function(e){var t=e.decadeData,a=e.selected,n=e.setSelected,l=void 0===n?function(){}:n,o=t[0],i=t[1];return r.default.createElement("div",{className:"date-picker2-month-year"},r.default.createElement(u,{neighbor:!0,value:o-1,setSelected:l}),c([],Array(i-o),!0).map((function(e,t){var n=t+o;return r.default.createElement(u,{key:t,isSelected:n===a,value:n,setSelected:l})})),r.default.createElement(u,{neighbor:!0,value:i+1,setSelected:l}))};function s(e,t){return t>11?(e++,t=0):t<0&&(e--,t=11),[e,t]}function f(e){return[31,e%4==0&&e%100!=0||e%400==0?29:28,31,30,31,30,31,31,30,31,30,31]}function m(e,t){var a=s(e,t),n=a[0],r=a[1];return{year:n,month:r,maxDayOfMonth:f(n)[r],otherMonth:!0}}function h(e,t,a){var n=e+"0".concat(t).slice(-2)+"0".concat(a).slice(-2);return Number(n)}function y(e){var t=Number("".concat(e.toString()[2],"0")),a=e.toString().substring(0,2);return[t=Number(0===t?"".concat(a,"00"):"".concat(a).concat(t)),t+10]}var v=["January","February","March","April","May","June","July","August","September","October","November","December"],p=[{name:"Sunday",shortName:"Sun"},{name:"Monday",shortName:"Mon"},{name:"Tuesday",shortName:"Tue"},{name:"Wednesday",shortName:"Wed"},{name:"Thursday",shortName:"Thu"},{name:"Friday",shortName:"Fri"},{name:"Saturday",shortName:"Sat"}],g=function(e){var a=e.className,n=e.todayClassName,u=e.selectedClassName,g=e.neighborMonthClassName,b=e.labelMonthYearClassName,E=e.width,S=e.readOnly,N=void 0!==S&&S,k=e.show,D=void 0===k||k,M=e.showAnchor,T=void 0!==M&&M,w=e.labelNext,F=e.labelBack,O=e.weekStart,C=void 0===O?"sunday":O,Y=e.notBeforeTime,A=e.notAfterTime,R=e.value,j=e.showToday,x=void 0===j||j,L=e.i18nLabelWeek,J=e.i18nLabelMonth,P=e.onSelectedValue,W=void 0===P?function(){}:P,q=e.formatTittleYearMonth,B=e.formartDayValue,V=t.useState(R||new Date),_=V[0],z=V[1],G=t.useRef(null),H=t.useState([]),I=H[0],K=H[1],Q=t.useState([]),U=Q[0],X=Q[1],Z=t.useState([]),$=Z[0],ee=Z[1],te=t.useState("date"),ae=te[0],ne=te[1],re=t.useState([]),le=re[0],oe=re[1],ce=Array.isArray(L)&&7===L.length;t.useEffect((function(){var e=R||new Date;z(R||new Date),se(e.getFullYear(),e.getMonth(),e)}),[R]),t.useEffect((function(){var e=ce?L:p;K("monday"!==C?c([],e,!0):c(c([],e.slice(1),!0),[e[0]],!1))}),[C,L]),t.useEffect((function(){!D&&ne("date")}),[D]);var ue,ie,de=function(e,t,a,n,r){if(!n&&!r)return!1;var l=h(e,t,a);return r>0&&n>0?!(n<=l&&l<=r):r>0&&l>r||n>0&&l<n},se=function(e,t,a){var n=new Date,r=n.getDate(),l=n.getMonth(),u=n.getFullYear(),i=new Date(e,t,1).getDay(),d=f(e)[t],s=m(e,t-1),y=m(e,t+1),v=function(e,t){return t===a.getDate()&&e.month===a.getMonth()&&e.year===a.getFullYear()},p=Y?h(Y.getFullYear(),Y.getMonth(),Y.getDate()):0,g=A?h(A.getFullYear(),A.getMonth(),A.getDate()):0;"monday"===C&&(0===i?i=6:i-=1);var b=[],E=[],S=1;if(0!==i||0===i&&28===d)for(var N=s.maxDayOfMonth-i+1;N<=s.maxDayOfMonth;N++)E.push(o(o({},s),{dayDisplay:N,isSelected:v(s,N),isOverRange:de(s.year,s.month,N,p,g)}));var k=E.length;S=E.length,7===E.length&&(b.push(c([],E,!0)),E=[],S=1);for(N=1;N<=d;N++)E.push({year:e,month:t,maxDayOfMonth:d,dayDisplay:N,isToday:r===N&&l===t&&u===e,isSelected:v({year:e,month:t},N),isOverRange:de(e,t,N,p,g)}),++S>=7&&(b.push(c([],E,!0)),E=[],S=0);var D=42-k-d;for(N=1;N<=D;N++)E.push(o(o({},y),{dayDisplay:N,isSelected:v(y,N),isOverRange:de(y.year,y.month,N,p,g)})),++S>=7&&(b.push(c([],E,!0)),E=[],S=0);E.length>0&&b.push(c([],E,!0)),X(b),oe([e,t])},fe=function(){G.current.classList.add("fade"),setTimeout((function(){return G.current.classList.remove("fade")}),50)},me=function(e){if(!N){var t=new Date(e.year,e.month,e.dayDisplay,0,0,0);z(t),W(t),se(e.year,e.month,t)}},he=function(){return"month"===ae?(ee(y(le[0])),ne("year"),void fe()):"date"===ae?(ne("month"),void fe()):void 0},ye=function(e){fe();var t=le[0],a=le[1];if("date"!==ae){if("year"===ae){var n=t+10*e;return ee(y(n)),void oe([n,a])}var r=s(t+e,a),l=r[0],o=r[1];se(l,o,_)}else{var c=s(t,a+e),u=c[0],i=c[1];se(u,i,_)}};return D?r.default.createElement("div",{style:{width:E},className:l.default("date-picker2",a)},r.default.createElement("div",{className:"date-picker2-header"},r.default.createElement("span",{className:"date-picker2-nav-button button-left",onClick:function(){return ye(-1)},onTouchEnd:function(){return ye(-1)}},F?r.default.createElement(r.default.Fragment,null,F):r.default.createElement(r.default.Fragment,null," 〈")),T&&r.default.createElement("span",{className:"date-picker2-anchor left-label"}),r.default.createElement("span",{ref:G,className:l.default("date-picker2-title-month-year",b),onClick:he,onTouchEnd:he},(ue=le[0],ie=le[1],q?q(ue,ie+1,$):"month"===ae?ue||"":"year"===ae?"".concat($[0]," - ").concat($[1]):"".concat((J||v)[ie]||""," ").concat(ue||"").trim())),T&&r.default.createElement("span",{className:"date-picker2-anchor right-label"}),r.default.createElement("span",{className:"date-picker2-nav-button button-right",onClick:function(){return ye(1)},onTouchEnd:function(){return ye(1)}},w?r.default.createElement(r.default.Fragment,null,w):r.default.createElement(r.default.Fragment,null,"〉"))),r.default.createElement("div",{className:"date-picker2-calendar",role:"grid"},"date"===ae?r.default.createElement((function(){return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"date-row",role:"row"},I.map((function(e,t){return r.default.createElement("span",{key:t,className:"week-label date-cell","aria-readonly":"true"},e.shortName)}))),U.map((function(e,t){return r.default.createElement("div",{key:t,className:"date-row",role:"row"},e.map((function(e,t){return r.default.createElement("span",{key:t,className:l.default("picker-cell date-cell",e.otherMonth&&"date-neighbor-target",e.otherMonth&&g,e.isToday&&x&&"date-is-today",e.isToday&&n,!N&&e.isSelected&&"date-is-selected",!N&&e.isSelected&&u,N&&"read-only",!N&&e.isOverRange&&"disabled-over-range-time"),onClick:function(){return!e.isOverRange&&me(e)},onTouchEnd:function(){return!e.isOverRange&&me(e)}},B?B(e.dayDisplay):e.dayDisplay)})))})))}),null):"month"===ae?r.default.createElement(i,{labelMonths:J||v,selected:_.getMonth(),isSameYear:_.getFullYear()===le[0],setSelected:function(e){var t=s(le[0],e),a=t[0],n=t[1];se(a,n,_),ne("date")}}):r.default.createElement(d,{decadeData:$,selected:_.getFullYear(),setSelected:function(e){oe([e,le[1]]),ne("month")}}))):r.default.createElement(r.default.Fragment,null)};e.DateTimePicker=g,e.default=g,Object.defineProperty(e,"__esModule",{value:!0})}));
