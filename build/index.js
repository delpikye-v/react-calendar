!function(e,a){"object"==typeof exports&&"undefined"!=typeof module?a(exports,require("react"),require("joinclass")):"function"==typeof define&&define.amd?define(["exports","react","joinclass"],a):a((e="undefined"!=typeof globalThis?globalThis:e||self).ReactCalendar={},e.React,e.joinclass)}(this,(function(e,a,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(a),l=n(t);function o(e){var a=e.value,t=e.className,n=e.disabled,o=e.display,u=e.isSelected,c=e.neighbor,i=e.setSelected;return r.default.createElement("span",{className:l.default("picker-cell month-year-cell",t,n&&"disabled-over-range-time",u&&"date-is-today",c&&"date-neighbor-target"),onClick:function(){return i(a)},onTouchCancel:function(){return i(a)},"aria-readonly":"true"},o||a)}var u=function(e){return null==e},c=function(e){e&&(e.classList.add("fade"),setTimeout((function(){return e.classList.remove("fade")}),50))},i=function(e){var a=e.minYear,t=e.maxYear,n=e.notBeforeTime,r=e.notAfterTime,l=new Date,o=l.getFullYear();if(a||(a=o-100),t||(t=o+100),n){var u=n.getFullYear();a=a<u?u:a}else n=new Date(a,0,1);if(r){var c=r.getFullYear();t=t>c?c:t}else r=new Date(t,11,31);return a>t&&(a=t),!e.minimumDayCanLargeThanToday&&a>o&&(a=o,n=l),{minYear:a,maxYear:t,minMonth:n.getMonth(),maxMonth:r.getMonth(),notBeforeTime:n,notAfterTime:r,beforeYearMonth:g([n.getFullYear(),n.getMonth()]),afterYearMonth:g([r.getFullYear(),r.getMonth()]),beforeAll:y(n.getFullYear(),n.getMonth(),n.getDate()),afterAll:y(r.getFullYear(),r.getMonth(),r.getDate())}},s=function(e,a){return e.reduce((function(e,t,n){return(n%a==0?e.push([t]):e[e.length-1].push(t))&&e}),[])},d=function(e,a){return a>11?(e++,a=0):a<0&&(e--,a=11),[e,a]},m=function(e,a,t,n,r){if(!n&&!r)return!1;var l=y(e,a,t);return r>0&&n>0?!(n<=l&&l<=r):r>0&&l>r||n>0&&l<n},f=function(e){return[31,e%4==0&&e%100!=0||e%400==0?29:28,31,30,31,30,31,31,30,31,30,31]},h=function(e,a){var t=d(e,a),n=t[0],r=t[1];return{year:n,month:r,maxDayOfMonth:f(n)[r],otherMonth:!0}},y=function(e,a,t){var n=e+"0".concat(a).slice(-2)+"0".concat(t).slice(-2);return Number(n)},g=function(e){var a=e[0]+"0".concat(e[1]).slice(-2);return Number(a)},v=function(e){var a=Number("".concat(e.toString()[2],"0")),t=e.toString().substring(0,2);return[a=Number(0===a?"".concat(t,"00"):"".concat(t).concat(a)),a+9]},p=["January","February","March","April","May","June","July","August","September","October","November","December"],N=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],k=[{name:"Sunday",shortName:"Su",dateClassName:"date-cell-sunday",keyName:"sun"},{name:"Monday",shortName:"Mo",dateClassName:"date-cell-monday",keyName:"mon"},{name:"Tuesday",shortName:"Tu",dateClassName:"date-cell-tuesday",keyName:"tue"},{name:"Wednesday",shortName:"We",dateClassName:"date-cell-wednesday",keyName:"wed"},{name:"Thursday",shortName:"Th",dateClassName:"date-cell-thursday",keyName:"thu"},{name:"Friday",shortName:"Fr",dateClassName:"date-cell-friday",keyName:"fri"},{name:"Saturday",shortName:"Sa",dateClassName:"date-cell-saturday",keyName:"sat"}],b=k.map((function(e){return e.dateClassName})),M=function(e){var a=e.weekLabels,t=void 0===a?[]:a,n=e.dayOfWeeks,o=void 0===n?[]:n,u=e.readOnly,c=e.neighborMonthClassName,i=e.showToday,s=e.todayClassName,d=e.selectedClassName,m=e.handleChangeDate,f=e.formartDayValue;return r.default.createElement(r.default.Fragment,null,o.map((function(e,a){return r.default.createElement("div",{key:a,className:"date-row date-line",role:"row"},e.map((function(e,a){var n,o=e.fitMonthDay||u;return r.default.createElement("span",{key:a,className:l.default("picker-cell date-cell","date-cell-".concat(y(e.year,e.month+1,e.dayDisplay)),null===(n=t[a])||void 0===n?void 0:n.dateClassName,e.isBookmark&&"date-is-bookmark",e.otherMonth&&"date-neighbor-target",e.otherMonth&&c,e.isToday&&i&&"date-is-today",e.isToday&&s,!o&&e.isSelected&&"date-is-selected",!o&&e.isSelected&&d,o&&"read-only",!o&&e.isOverRange&&"disabled-over-range-time"),onClick:function(){return!o&&!e.isOverRange&&m(e)},onTouchEnd:function(){return!o&&!e.isOverRange&&m(e)},"aria-readonly":"true"},e.fitMonthDay?r.default.createElement(r.default.Fragment,null):f?f(e.dayDisplay):e.dayDisplay)})))})))},C=function(e){for(var a=e.decadeData,t=e.selected,n=e.minYear,l=e.maxYear,u=e.setSelected,c=void 0===u?function(){}:u,i=a[0],d=a[1],m=[],f=i-1;f<=d+1;f++)m.push(f);var h=s(m,3);return r.default.createElement(r.default.Fragment,null,h.map((function(e,a){return r.default.createElement("div",{key:a,className:"date-row",role:"row"},e.map((function(e,a){return r.default.createElement(o,{key:a,className:"year-cell-".concat(e),disabled:n>e||l<e,neighbor:e<i||e>d,isSelected:e===t,value:e,setSelected:c})})))})))},Y=function(e){var a=e.labelMonths,t=void 0===a?[]:a,n=e.selected,u=e.isSameYear,c=e.year,i=e.minYearMonth,m=e.maxYearMonth,f=e.setSelected,h=void 0===f?function(){}:f,y=s(t,3);return r.default.createElement(r.default.Fragment,null,y.map((function(e,a){return r.default.createElement("div",{key:a,className:"date-row",role:"row"},e.map((function(e,t){var s=3*a+t,f=g(d(c,s));return r.default.createElement(o,{key:t,className:l.default("month-year-cell-".concat(f),"month-cell-".concat(N[s])),disabled:i>f||m<f,isSelected:s===n&&u,display:e,value:s,setSelected:h})})))})))},D=function(e){var a=e.weekLabels,t=e.weekClassName,n=e.dayOfWeeks,o=void 0===n?[]:n,u=e.readOnly,c=e.neighborMonthClassName,i=e.showToday,s=e.todayClassName,d=e.selectedClassName,m=e.onClickWeekLabel,f=void 0===m?function(){}:m,h=e.handleChangeDate,y=e.formartDayValue;return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"date-row date-label",role:"row"},a.map((function(e,a){return r.default.createElement("span",{key:a,className:l.default("week-label date-cell",e.dateClassName,t),onClick:function(){return f(e)},onTouchEnd:function(){return f(e)},"aria-readonly":"true"},e.shortName)}))),r.default.createElement(M,{weekLabels:a,dayOfWeeks:o,readOnly:u,neighborMonthClassName:c,showToday:i,todayClassName:s,selectedClassName:d,formartDayValue:y,handleChangeDate:h}))},T=function(){return T=Object.assign||function(e){for(var a,t=1,n=arguments.length;t<n;t++)for(var r in a=arguments[t])Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);return e},T.apply(this,arguments)};function E(e,a,t){if(t||2===arguments.length)for(var n,r=0,l=a.length;r<l;r++)!n&&r in a||(n||(n=Array.prototype.slice.call(a,0,r)),n[r]=a[r]);return e.concat(n||Array.prototype.slice.call(a))}"function"==typeof SuppressedError&&SuppressedError;var w=function(e){var t=e.currentDate,n=e.minYear,o=e.maxYear,i=e.minMonth,s=e.maxMonth,d=e.valueMonth,m=e.valueYear,f=e.className,h=e.i18nLabelMonth,y=e.minimumDayCanLargeThanToday,g=e.handleChange,v=a.useRef(null),N=a.useRef(null);if(a.useEffect((function(){N.current&&c(N.current)}),[d]),a.useEffect((function(){v.current&&c(v.current)}),[m]),u(d)||u(m))return null;var k=m===o?(h||p).slice(0,s+1):m===n?(h||p).slice(i):h||p,b=function(){var e,a=t.getFullYear();return n>o&&(n=(e=[o,n])[0],o=e[1]),(y&&n<a||a<n)&&(n=a),new Array(o-n+1).fill(0)}();return r.default.createElement("span",{className:l.default("date-picker2-select-month-year date-picker2-title-month-year",f)},r.default.createElement("span",{className:"date-picker2-select-month"},r.default.createElement("select",{ref:N,className:"date-picker2-select-month-control",value:d,onChange:function(e){c(e.target),g(m,Number(e.target.value))},"aria-hidden":!0},k.map((function(e,a){return r.default.createElement("option",{key:a,value:a},e)})))),r.default.createElement("span",{className:"date-picker2-select-split"}),r.default.createElement("span",{className:"date-picker2-select-year"},r.default.createElement("select",{ref:v,className:"date-picker2-select-year-control",value:m,onChange:function(e){c(e.target),g(Number(e.target.value),d)},"aria-hidden":!0},b.map((function(e,a){var t=o-a;return r.default.createElement("option",{key:t,value:t},t)})))))},x=function(e,a,t){return a===t.getDate()&&e.month===t.getMonth()&&e.year===t.getFullYear()},S=function(e,a,t,n){return void 0===n&&(n=[]),n.findIndex((function(n){return n.getFullYear()===e&&n.getMonth()===a&&n.getDate()===t}))>-1};function F(e,a,t,n,r,l,o,u,c,i,s){var d=new Date,g=d.getDate(),v=d.getMonth(),p=d.getFullYear(),N=new Date(e,a,1).getDay(),k=f(e)[a],b=h(e,a-1),M=h(e,a+1),C=n?y(n.getFullYear(),n.getMonth(),n.getDate()):0,Y=r?y(r.getFullYear(),r.getMonth(),r.getDate()):0;"monday"===l&&(N=0===N?6:N-1);var D=[],w=[],F=1;if(0!==N||0===N&&28===k)for(var O=b.maxDayOfMonth-N+1;O<=b.maxDayOfMonth;O++)w.push(T(T({},b),{dayDisplay:O,isSelected:x(b,O,t),isOverRange:m(b.year,b.month,O,C,Y),fitMonthDay:o,isBookmark:S(b.year,b.month,O,i)}));var A=w.length;F=w.length,7===w.length&&(D.push(E([],w,!0)),w=[],F=1);for(O=1;O<=k;O++)w.push({year:e,month:a,maxDayOfMonth:k,dayDisplay:O,isToday:g===O&&v===a&&p===e,isSelected:x({year:e,month:a},O,t)&&s,isOverRange:m(e,a,O,C,Y),isBookmark:S(e,a,O,i)}),++F>=7&&(D.push(E([],w,!0)),w=[],F=0);var B=42-A-k;for(O=1;O<=B;O++)w.push(T(T({},M),{dayDisplay:O,isSelected:x(M,O,t),isOverRange:m(M.year,M.month,O,C,Y),fitMonthDay:o,isBookmark:S(M.year,M.month,O,i)})),++F>=7&&(D.push(E([],w,!0)),w=[],F=0);w.length>0&&D.push(E([],w,!0)),u(D),c([e,a])}e.CalendarCell=o,e.CalendarDayOfWeeks=M,e.CalendarDecade=C,e.CalendarMonth=Y,e.CalendarWeek=D,e.animateLabelChange=c,e.datesClassName=b,e.default=function(e){var t=e.className,n=e.todayClassName,o=e.selectedClassName,u=e.neighborMonthClassName,s=e.labelMonthYearClassName,m=e.weekClassName,h=e.width,N=void 0===h?"300px":h,M=e.height,x=void 0===M?"300px":M,S=e.readOnly,O=void 0!==S&&S,A=e.show,B=void 0===A||A,L=e.showAnchor,R=void 0!==L&&L,W=e.labelNext,j=e.labelBack,V=e.weekStart,J=void 0===V?"sunday":V,P=e.fitMonthDay,q=void 0!==P&&P,_=e.notBeforeTime,I=e.notAfterTime,z=e.value,G=e.bookmarkDates,H=void 0===G?[]:G,K=e.showToday,Q=void 0===K||K,U=e.i18nLabelWeek,X=e.i18nLabelMonth,Z=e.minYear,$=e.maxYear,ee=e.minimumDayCanLargeThanToday,ae=void 0!==ee&&ee,te=e.showMonthYearSelection,ne=void 0!==te&&te,re=e.showNextBack,le=void 0===re||re,oe=e.onSelectedValue,ue=void 0===oe?function(){}:oe,ce=e.onChangeView,ie=void 0===ce?function(){}:ce,se=e.onClickWeekLabel,de=void 0===se?function(){}:se,me=e.formatTittleYearMonth,fe=e.formartDayValue,he=a.useState(z||new Date),ye=he[0],ge=he[1],ve=a.useRef(null),pe=a.useRef(!0),Ne=a.useRef({}),ke=a.useState([]),be=ke[0],Me=ke[1],Ce=a.useState([]),Ye=Ce[0],De=Ce[1],Te=a.useState([]),Ee=Te[0],we=Te[1],xe=a.useState("date"),Se=xe[0],Fe=xe[1],Oe=a.useState([]),Ae=Oe[0],Be=Oe[1],Le="date"===Se,Re="month"===Se,We="year"===Se;a.useEffect((function(){Ne.current=i({maxYear:$,minYear:Z,notAfterTime:I,notBeforeTime:_,minimumDayCanLargeThanToday:ae})}),[]),a.useEffect((function(){var e=z||new Date;z?ae||e<Ne.current.notBeforeTime&&(pe.current=!1,e=Ne.current.notBeforeTime):ae&&(pe.current=!1,e=new Date(Ne.current.minYear,Ne.current.minMonth,1)),ge(e),F(e.getFullYear(),e.getMonth(),e,Ne.current.notBeforeTime,Ne.current.notAfterTime,J,q,De,Be,H,pe.current)}),[z,N,x,Q,_,I,X,O,q,ae]),a.useEffect((function(){var e=(Array.isArray(U)&&7===U.length?U:k).map((function(e,a){return T(T({},e),{dateClassName:b[a]})}));Me("monday"!==J?e:E(E([],e.slice(1),!0),[e[0]],!1))}),[J,U]),a.useEffect((function(){!B&&Fe("date")}),[B]);var je,Ve,Je=function(){var e="date";Re&&(we(v(Ae[0])),e="year"),Le&&(e="month"),Fe(e),ie(e),c(ve.current)},Pe=function(e){c(ve.current);var a=Ae[0],t=Ae[1];if(We){var n=a+10*e;return we(v(n)),void Be([n,t])}var r=Le||ne?d(a,t+e):d(a+e,t);F(r[0],r[1],ye,Ne.current.notBeforeTime,Ne.current.notAfterTime,J,q,De,Be,H,pe.current)},qe=function(){var e=Ae[0],a=Ae[1];if(We)return{disabledBack:Ee[0]<Ne.current.minYear,disabledNext:Ee[1]>Ne.current.maxYear};if(Le){var t=f(e)[a];return{disabledBack:Ne.current.beforeAll>=y(e,a,1),disabledNext:Ne.current.afterAll<=y(e,a,t)}}var n=d(e,0),r=d(e,11);return{disabledBack:Ne.current.beforeYearMonth>=g(n),disabledNext:Ne.current.afterYearMonth<=g(r)}}(),_e=qe.disabledBack,Ie=qe.disabledNext;return B?r.default.createElement("div",{style:{width:N,height:q?"auto":x},className:l.default("date-picker2",t)},r.default.createElement("div",{className:"date-picker2-header"},le&&r.default.createElement("span",{className:l.default("date-picker2-nav-button button-left",_e&&"button-disabled"),onClick:function(){return!_e&&Pe(-1)},onTouchEnd:function(){return!_e&&Pe(-1)}},j||r.default.createElement(r.default.Fragment,null,"〈")),R&&r.default.createElement("span",{className:"date-picker2-anchor left-label"}),ne?r.default.createElement(w,{className:s,currentDate:ye,maxYear:Ne.current.maxYear,minYear:Ne.current.minYear,minMonth:Ne.current.minMonth,maxMonth:Ne.current.maxMonth,valueYear:Ae[0],valueMonth:Ae[1],i18nLabelMonth:X,minimumDayCanLargeThanToday:ae,handleChange:function(e,a){F(e,a,ye,Ne.current.notBeforeTime,Ne.current.notAfterTime,J,q,De,Be,H,pe.current)}}):r.default.createElement("span",{ref:ve,className:l.default("date-picker2-title-month-year",Le&&"date-picker2-title-month",Re&&"date-picker2-title-year",We&&"date-picker2-title-decade",s),"aria-hidden":!0},r.default.createElement("span",{className:"date-picker2-label-month-year",onClick:Je,onTouchEnd:Je},(je=Ae[0],Ve=Ae[1],me?Re?me(je,-1):We?me(-1,-1,Ee):me(je,Ve+1):Re?je||"":We?"".concat(Ee[0]," - ").concat(Ee[1]):"".concat((X||p)[Ve]||""," ").concat(je||"").trim()))),R&&r.default.createElement("span",{className:"date-picker2-anchor right-label"}),le&&r.default.createElement("span",{className:l.default("date-picker2-nav-button button-right",Ie&&"button-disabled"),onClick:function(){return!Ie&&Pe(1)},onTouchEnd:function(){return!Ie&&Pe(1)}},W||r.default.createElement(r.default.Fragment,null,"〉"))),r.default.createElement("div",{className:"date-picker2-calendar",role:"grid"},Le?r.default.createElement(D,{weekLabels:be,weekClassName:m,dayOfWeeks:Ye,readOnly:O,showToday:Q,todayClassName:n,selectedClassName:o,neighborMonthClassName:u,onClickWeekLabel:de,handleChangeDate:function(e){if(!O){pe.current=!0;var a=new Date(e.year,e.month,e.dayDisplay,0,0,0);ge(a),ue(a),F(e.year,e.month,a,Ne.current.notBeforeTime,Ne.current.notAfterTime,J,q,De,Be,H,pe.current)}},formartDayValue:fe}):Re?r.default.createElement(Y,{year:Ae[0],labelMonths:X||p,minYearMonth:Ne.current.beforeYearMonth,maxYearMonth:Ne.current.afterYearMonth,selected:ye.getMonth(),isSameYear:ye.getFullYear()===Ae[0],setSelected:function(e){var a=d(Ae[0],e);F(a[0],a[1],ye,Ne.current.notBeforeTime,Ne.current.notAfterTime,J,q,De,Be,H,pe.current),Fe("date"),ie("date")}}):r.default.createElement(C,{decadeData:Ee,selected:ye.getFullYear(),minYear:Ne.current.minYear,maxYear:Ne.current.maxYear,setSelected:function(e){Be([e,Ae[1]]),Fe("month"),ie("month")}}))):r.default.createElement(r.default.Fragment,null)},e.fmtYearMonthDateToNum=y,e.fmtYearMonthToNum=g,e.getDecadesFromYear=v,e.getMaxDayOfMonth=f,e.getMiMaxYear=i,e.getPreNextOfMonth=h,e.getRealYearMonth=d,e.isNil=u,e.isOverCompareDate=m,e.keyMonths=N,e.labelMonths=p,e.labelWeekDays=k,e.toMatrix=s,Object.defineProperty(e,"__esModule",{value:!0})}));
